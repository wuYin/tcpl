## 第2章 类型、运算符与表达式

### 2.1 变量名



### 2.2 数据类型及长度

short 和 long 都是限定符，使用时类型 short 是 short int 的缩写。



### 2.3 常量

前缀 0 八进制，0x/0X 十六进制。后缀 l/L long，f/F float，u/U unsigned

编译时会连接多个字符串常量，必须是常量：

```c
main()
{
    char str[] = "hello, " // 编译时连接，必须是字符串常量
                 "world"
                 "\n";
    printf("%s", str); // hello, world
}
```



### 2.4 声明

### 2.5 算术运算符

### 2.6 关系运算符与逻辑运算符



### 2.7 类型转换

强制类型转换时，float 转 int 会直接截断小数部分，double 转 float 则会进位：

```c
printf("%d\n", (int)1.5);          // 1
printf("%f\n", (float)1.55555555); // 1.555556
```



### 2.8 自增运算符与自减运算符

警惕 `++ / —` 运算符的副作用：在对表达式求值时，修改了变量的值：

```c
main()
{
    char s[] = "hello";
    int i = 0;
    while (s[i] != '\0')
        i++;
    printf("%d\n", i);    // 5 // ok
}

main()
{
    char s[] = "hello";
    int i = 0;
    while (s[i++] != '\0') // 不应把条件自增/自减的逻辑提前到条件表达式中
        ;
    printf("%d\n", i);     // 6 // not ok
}
```



### 2.9 按位运算符

```c
&      // 按位与：屏蔽指定的位
|      // 按位或：将指定位置为 1
x << n // x 的二进制整体左移 n 位，右侧补 0，结果为 x*pow(2,n)
x >> n // 右移 n 位，x/power(2,n)
```



### 2.10 赋值运算符与表达式

### 2.11 条件表达式

### 2.12 运算符优先级与求值次序